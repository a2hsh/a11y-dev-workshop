# دليل المطور لاختبار إمكانية الوصول باستخدام VoiceOver على macOS

# العربية | [English](./voiceOver.md)

## 📚 أدلة وموارد ذات صلة

- [ورشة الامتثال الرقمي الشامل: من الفجوات إلى الحلول التقنية المستدامة](./README.ar.md)
- [دليل اختبار NVDA للمطورين](./nvda.ar.md)
- [دليل تصحيح مشاكل إمكانية الوصول: خطوة بخطوة](./how-to-fix.ar.md)
- [إرشادات WCAG 2.2](https://www.w3.org/WAI/WCAG22/quickref/)
- [ممارسات ARIA](https://www.w3.org/WAI/ARIA/apg/)
- [WebAIM – اختبار قارئ الشاشة](https://webaim.org/articles/screenreader_testing/)

> هذا الدليل مخصص للمطورين ويعتمد على المصطلحات الرسمية من [دليل مستخدم VoiceOver من Apple](https://support.apple.com/ar-sa/guide/voiceover/welcome/mac). يشرح كيفية اختبار مواقع الويب وتطبيقات الويب باستخدام قارئ الشاشة VoiceOver على أجهزة Mac، مع التركيز على الأوامر، السيناريوهات الحرجة، والمشكلات الشائعة.

---

## البدء السريع

- **تشغيل VoiceOver**: `Command+F5`
- **إظهار لوحة الشرح (Caption Panel)**: `VO+Command+F10`
- **تفعيل وضع التنقل السريع (Quick Nav)**: `VO+Shift+Space`
- **إيقاف الكلام مؤقتًا**: مفتاح `Control`
- **خروج طارئ**: `Command+F5`

> **ملاحظة:** اختصار "VO" يشير إلى مفتاحي `Control + Option` معًا.

---

## أوامر VoiceOver الأساسية للمطورين

| الأمر | الوظيفة |
|-------|---------|
| `VO+U` | "مُدوّر الويب" (Web Rotor) - تصفح حسب نوع العنصر |
| `VO+Shift+Space` | تبديل وضع التنقل السريع |
| `VO+F3` | ملخص الصفحة |
| `VO+T` | قراءة عنوان النافذة |
| `VO+F` | البحث عن نص في الصفحة |
| `VO+F1` | الحصول على مساعدة للعنصر الحالي |

---

## سيناريوهات اختبار إمكانية الوصول الحرجة

### ١. تحليل بنية الصفحة
- استخدم "مُدوّر الويب" (`VO+U`) لمراجعة:
  - **العناوين**: تحقق من التسلسل الهرمي والمنطق
  - **الروابط**: راجع جودة نص الرابط
  - **عناصر النماذج**: تحقق من وضوح التسميات وأنواع الحقول
  - **المناطق (Landmarks)**: تحقق من وجود مناطق رئيسية مثل "رئيسي" و"تنقل"
- ملخص سريع:
  1. `VO+F3` - ملخص الصفحة
  2. `VO+U` → اختر "العناوين" → تصفح بنية العناوين
  3. `VO+U` → اختر "المناطق" → تحقق من مناطق الصفحة

### ٢. اختبار النماذج
1. انتقل إلى النموذج: استخدم `VO+Command+J` أو Tab
2. تحقق من التسميات: هل يعلن VoiceOver عن تسميات واضحة؟
3. اختبر الإدخال: أدخل بيانات وتحقق من رد الفعل
4. معالجة الأخطاء: أرسل بيانات غير صحيحة وتحقق من إعلان الأخطاء
5. الحقول المطلوبة: تحقق من إعلان حالة "مطلوب"

### ٣. اختبار الصور والوسائط
- **الصور**: `VO+U` → "الصور" → تحقق من جودة نص البديل
- **الرسومات**: تنقل باستخدام `VO+Command+G`
- **الصوت/الفيديو**: تحقق من وجود عناصر التحكم والتسميات التوضيحية

### ٤. اختبار الجداول
- **العثور على الجداول**: `VO+Command+T`
- **تنقل بين الخلايا**: `VO+Arrow keys`
- **قراءة رؤوس الصفوف**: `VO+R`
- **قراءة رؤوس الأعمدة**: `VO+C`
- **معلومات الجدول**: `VO+Shift+T`

---

## ميزات VoiceOver المفيدة للمطورين

### وضع التنقل السريع (Quick Nav)
- **تبديل**: `VO+Shift+Space`
- عند التفعيل، استخدم مفاتيح فردية للتنقل:
  - `H` / `Shift+H` - العناوين
  - `L` / `Shift+L` - الروابط
  - `B` / `Shift+B` - الأزرار
  - `T` / `Shift+T` - الجداول
  - `G` / `Shift+G` - الرسومات

### مُدوّر الويب (Web Rotor)
- أهم ميزة للمطورين:
  - العناوين (مع مستويات)
  - الروابط (مع السياق)
  - عناصر النماذج (مع الأنواع والحالات)
  - الجداول (مع معلومات موجزة)
  - المناطق (ARIA)
  - الصور (مع حالة النص البديل)
  - النص الثابت
  - الروابط التي تمت زيارتها

### أداة VoiceOver (VoiceOver Utility)
- **الوصول**: `VO+F8` أو إعدادات النظام → إمكانية الوصول → VoiceOver → فتح الأداة
- **إعدادات مفيدة**:
  - الكلام: ضبط السرعة والصوت ومستوى علامات الترقيم
  - التفاصيل: التحكم في كمية المعلومات المعلنة
  - الويب: تخصيص تجربة تصفح الويب
  - برايل: إعداد عارض برايل للاختبار

---

## سير عمل اختبار المطور

### الخطوة ١: فحص البنية
1. إظهار لوحة الشرح: `VO+Command+F10`
2. ملخص الصفحة: `VO+F3`
3. فحص العناوين: `VO+U` → العناوين

### الخطوة ٢: اختبار التنقل
1. تفعيل التنقل السريع: `VO+Shift+Space`
2. التنقل عبر Tab: تحقق من ترتيب التركيز والإعلانات
3. التنقل بين العناوين: اضغط `H`
4. اختبار الروابط: اضغط `L`

### الخطوة ٣: العناصر التفاعلية
1. عناصر النماذج: `VO+U` → عناصر النماذج
2. اختبار الأزرار: اضغط `B`
3. اختبار التفاعل: املأ النماذج، فعّل الأزرار، تحقق من رد الفعل

### الخطوة ٤: توثيق المشكلات
- استخدم لقطات لوحة الشرح لإظهار:
  - تسميات ناقصة أو سيئة
  - تسلسل عناوين غير منطقي
  - رسومات بدون تسميات
  - نصوص روابط أو أزرار عامة

---

## مشكلات إمكانية الوصول الشائعة التي يكشفها VoiceOver

### أمثلة سيئة (ما يعلنه VoiceOver)
- زر بدون تسمية: "زر"
- صورة بدون نص بديل: "صورة"
- رابط عام: "رابط، المزيد"
- حقل نموذج بدون تسمية: "تحرير نص"
- تسلسل عناوين سيء: الانتقال من H1 إلى H4 مباشرة

### أمثلة جيدة (ما يجب أن يعلنه VoiceOver)
- زر موصوف: "إرسال التسجيل، زر"
- نص بديل جيد: "مخطط شريطي يوضح زيادة بنسبة 25% في المبيعات الفصلية"
- رابط وصفي: "تحميل تقرير 2024 السنوي، PDF، رابط"
- حقل نموذج موصوف: "البريد الإلكتروني، مطلوب، تحرير نص"
- تسلسل عناوين منطقي: H1 → H2 → H3

---

## إيماءات لوحة التتبع (للاختبار على أجهزة MacBook)

### الإيماءات الأساسية
- نقرة واحدة: تحديد عنصر
- نقرتان: تفعيل عنصر
- نقرة بإصبعين: إيقاف الكلام
- نقرة بثلاثة أصابع: نطق العنصر
- إيماءة المدور: تدوير إصبعين معًا

### إيماءات التنقل
- السحب يمينًا: العنصر التالي
- السحب يسارًا: العنصر السابق
- السحب للأعلى: قراءة الكل
- السحب للأسفل: بدء القراءة من الأعلى

> **ملاحظة:** الإيماءات تحاكي تجربة الأجهزة اللمسية، مفيدة لاختبار أنماط إمكانية الوصول على الجوال.

---

## ميزات اختبار متقدمة

### منتقي العناصر (Item Chooser)
- بديل للمدور: يعرض جميع عناصر الصفحة في قائمة قابلة للبحث
  1. `VO+I` لفتح المنتقي
  2. اكتب للبحث عن محتوى محدد
  3. استخدم الأسهم للتنقل
  4. Enter للانتقال للعنصر

### النقاط الساخنة (Hot Spots)
- تعيين إشارات مرجعية في الصفحات المعقدة
  1. انتقل إلى الموقع المهم
  2. `VO+Shift+N` → "تعيين نقطة ساخنة"
  3. `VO+N` للعودة لاحقًا

### قائد VoiceOver (VoiceOver Commander)
- كتابة الأوامر بدلًا من الاختصارات
  - `VO+Enter` لفتح القائد
  - اكتب أوامر مثل "بحث عن نص" أو "العنوان التالي"

---

## قائمة التحقق للمطورين

### قبل الاختبار
- [ ] تم تفعيل VoiceOver (`Command+F5`)
- [ ] لوحة الشرح مرئية (`VO+Command+F10`)
- [ ] سرعة الكلام مناسبة
- [ ] وضع التنقل السريع جاهز (`VO+Shift+Space`)

### اختبار البنية
- [ ] ملخص الصفحة منطقي (`VO+F3`)
- [ ] تسلسل العناوين منطقي (`VO+U` → العناوين)
- [ ] المناطق موجودة (`VO+U` → المناطق)
- [ ] ترتيب القراءة منطقي (`VO+A` لقراءة الكل)

### اختبار العناصر التفاعلية
- [ ] جميع العناصر قابلة للوصول عبر Tab أو التنقل السريع
- [ ] حقول النماذج لها تسميات واضحة
- [ ] الأزرار تصف وظيفتها
- [ ] رسائل الخطأ معلنة ومفيدة
- [ ] مؤشرات التركيز مرئية ومنطقية

### اختبار المحتوى
- [ ] الصور لها نص بديل مناسب (`VO+U` → الصور)
- [ ] الروابط وصفية (`VO+U` → الروابط)
- [ ] الجداول لها رؤوس وتنقل مناسب
- [ ] المحتوى المعقد له أوصاف كافية

---

## بطاقة مرجعية سريعة

- **بدء الاختبار**: `Command+F5` → `VO+Command+F10` → `VO+Shift+Space`
- **إيقاف الكلام**: مفتاح `Control`
- **خروج طارئ**: `Command+F5`

**أكثر الأوامر استخدامًا للمطورين:**
- `VO+U` - مُدوّر الويب
- `H` / `Shift+H` - التنقل بين العناوين
- `L` / `Shift+L` - التنقل بين الروابط
- `VO+F3` - ملخص الصفحة
- `Control` - إيقاف الكلام مؤقتًا

---

## استكشاف الأخطاء وإصلاحها

### VoiceOver لا يتكلم
1. تحقق من كتم الصوت (`VO+Shift+S` لإلغاء الكتم)
2. جرب `VO+S` لإيقاف الكلام ثم التنقل لإعادة التشغيل
3. تحقق من مستوى صوت النظام وVoiceOver (`VO+V`)
4. أعد تشغيل VoiceOver (`Command+F5` مرتين)

### مشاكل التنقل
1. تبديل وضع التنقل السريع (`VO+Shift+Space`)
2. تحقق من وضع النموذج مقابل وضع التصفح
3. استخدم "مُدوّر الويب" كخيار تنقل بديل
4. جرب `VO+F1` للمساعدة السياقية

### لا يمكن العثور على عناصر
1. استخدم `VO+F` للبحث عن نص
2. جرب منتقي العناصر `VO+I` للبحث الشامل
3. تحقق من أنواع العناصر في "مُدوّر الويب"
4. استخدم ملخص الصفحة `VO+F3`

### اختبار تطبيقات الويب مقابل التطبيقات الأصلية
- **محتوى الويب**: استخدم Safari لأفضل دعم
- **React/Vue/Angular**: اختبر في Safari وليس فقط Chrome
- **إدارة التركيز**: تحقق من معالجة التركيز في تطبيقات SPA
- **المناطق الحية**: اختبر تحديثات المحتوى الديناميكي

---

## VoiceOver مقابل NVDA: الفروقات الأساسية للمطورين

### مزايا VoiceOver
- مدمج في macOS
- دعم لوحة التتبع
- تكامل عميق مع النظام
- مُدوّر الويب قوي
- لوحة الشرح مدمجة

### استراتيجية الاختبار
1. اختبار أساسي: استخدم NVDA (Windows) وVoiceOver (macOS)
2. تدقيق سريع: مُدوّر الويب أسرع لفحص البنية
3. اختبار النماذج: كلا الأداتين ممتازتان، لكن VoiceOver أكثر سلاسة
4. اختبار الجوال: إيماءات لوحة التتبع تساعد في فهم أنماط الجوال

---

**تذكر:** VoiceOver هو بوابتك لفهم كيفية عمل موقعك على أجهزة iOS أيضًا. أنماط التنقل متشابهة، لذا اختبار VoiceOver على سطح المكتب يجهزك لاختبار إمكانية الوصول على الجوال.

**نصيحة للمطورين:** أبقِ لوحة الشرح مفتوحة أثناء التطوير وراقبها باستمرار. مثل "عارض الكلام" في NVDA، تكشف عن مشاكل إمكانية الوصول في الوقت الفعلي بدون الحاجة للصوت.

---

## مصادر إضافية

- **📋 نظرة عامة على الورشة**: [README.ar.md](./README.ar.md)
- **🛠️ تعليمات الإصلاح**: [how-to-fix.md](./how-to-fix.md)
- **🪟 اختبار NVDA**: [nvda.ar.md](./nvda.ar.md)
- **📖 دليل مستخدم VoiceOver الرسمي**: [support.apple.com/guide/voiceover](https://support.apple.com/ar-sa/guide/voiceover/welcome/mac)
- **🍎 VoiceOver على iOS**: [support.apple.com/accessibility](https://support.apple.com/accessibility/iphone/)
